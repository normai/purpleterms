<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="utf-8" data-encoding="UTF-8-with-BOM">
   <title>Termjnal Aloha</title>
   <script src="./terminal.js"></script>
   <link rel="shortcut icon" href="./docs/20090504o2215.grainydummy180sq.v0.x0128y0128q66.jpg">
   <link rel="stylesheet" href="./docs/styles.css">

   <style>
      /**
       * rule 20230510°1512 Ribbon after https://codepo8.github.io/css-fork-on-github-ribbon/ [ref 20230510°1512]
       */
      #fork_on_github a { background:Tomato; color:White; text-decoration:none;
                          font-family:arial,sans-serif; text-align:center; font-weight:bold;
                       /* padding:5px 40px; font-size:1rem; line-height:2rem; */
                          padding:5px 40px; font-size:1rem; line-height:1.7rem;
                       /* position:relative; transition:0.5s; */
                          position:relative; /* transition:0.5s; */
                         }
      #fork_on_github a:hover { background:Orange; color:SeaGreen; }
      #fork_on_github a::before,
      #fork_on_github a::after { content:""; width:100%; display:block; position:absolute;
                                 top:1px; left:0; height:1px; background:Lime;
                                }
      #fork_on_github a::after { bottom:1px; top:auto; }
      @media screen and (min-width:800px)
         { #fork_on_github { position:fixed; display:block; top:0; right:0;
                             width:200px; height:200px; overflow:hidden; z-index:9999;
                            }
           #fork_on_github a { /* width:200px; position:absolute; top:60px; right:-60px; */
                                  width:170px; position:absolute; top:55px; right:-55px;
                               transform:rotate(45deg); -webkit-transform:rotate(45deg);
                               -ms-transform:rotate(45deg); -moz-transform:rotate(45deg);
                               -o-transform:rotate(45deg); box-shadow: 4px 4px 10px rgba(0,0,0,0.8);
                              }
         }
   </style>

</head>

<body class="BodyFace12Normal">

 <span id="fork_on_github">
               <a href="https://github.com/normai/terminaljs">Fork me on GitHub</a>
 </span>

 <table class="TopNavi14Box">
  <tr>
   <td class="TopNavi14Line">
               <a href="./aloha.html" class="TopNavi14Self">Aloha</a> &nbsp; → &nbsp;
               <a href="./docs/simple.html" class="TopNavi14Normal">Simple</a> &nbsp;
               <a href="./docs/custom.html" class="TopNavi14Normal">Custom</a> &nbsp;
               <a href="./docs/primal.html" class="TopNavi14Normal">Primal</a>
   </td>
   <td class="TopNavi14Arrows">
               <a href="./docs/primal.html" class="TopNavi14ArrowNormal">ᐊ</a>
               <a href="./aloha.html" class="TopNavi14ArrowGray">ᐃ</a>
               <a href="./docs/simple.html" class="TopNavi14ArrowNormal">ᐅ</a>
   </td>
  </tr>
 </table>
 <div class="TopNavi14Logo" style="z-index:0;">
               <img src="./docs/20090504o2215.grainydummy180sq.v0.x0128y0128q66.jpg" width="92" height="92" alt="Grainy Dummy Logo">
 </div>


 <div class="ChapterFace14Normal" style="z-index:2;">

  <h1>
               Termjnal Aloha
  </h1>

  <p style="z-index:2;">
               This is the <a href="https://github.com/normai/terminaljs/">Termjnal</a>
               introductory use case. This is not a simple use case, rather a comprehensive one.
               An easier case you will find on the next page.
  </p>

  <p class="FontAttention" style="display:none;">
               Under development — Turbulences be expected.
  </p>

  <!-- **************************************************** -->
  <div style="border:2px solid LightGray; border-radius:0.7em; padding:0.1em;">
      <!-- Note. "overscroll-behavior: contain;" does not work here (see issue ) -->
      <div style="font-size:1.3em; width:666px;" id="Div_For_Terminal_One">
      </div>
      Show debug borders.
      <input type="checkbox" id="Debug_Borders_Box_One" name="Debug_Borders_Box_One"
               onclick="t1.beep()"
      >
  </div>
  <!-- **************************************************** -->


  <pre style="line-height:1.0em; display:none;">
               this._output.scrollHeight      = <span id="outputScrollHeight"></span>
               this._output.scrollTop         = <span id="outputScrollTop"></span>
               this._output.offsetTop         = <span id="outputOffsetTop"></span>

               this._innerWindow.scrollHeight = <span id="innerWindowScrollHeight"></span>
               this._innerWindow.scrollTop    = <span id="innerWindowScrollTop"></span>
               this._innerWindow.offsetTop    = <span id="innerWindowOffsetTop"></span>

               html.scrollHeight              = <span id="htmlScrollHeight"></span>
               html.scrollTop                 = <span id="htmlScrollTop"></span>
               html.offsetTop                 = <span id="htmlOffsetTop"></span>

               document.body.scrollHeight     = <span id="documentBodyScrollHeight"></span>
               document.body.scrollTop        = <span id="documentBodyScrollTop"></span>
               document.body.offsetTop        = <span id="documentBodyOffsetTop"></span>
  </pre>


  <p style="clear:both; line-height:1.2em;">
              Another box :
  </p>

  <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
  <div style="font-size:0.9em; line-height:1.1em; float:left;" id="Div_For_Terminal_Two">
  </div>
  <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->

  <!-- ++++++++++++++++++++++++++++++++++++++++++++++++++++ -->
  <div style="font-size:0.7em; line-height:0.9em; float:right;" id="Div_For_Terminal_Three">
  <p>
              And yet one more box :
  </p>
  </div>
  <!-- ++++++++++++++++++++++++++++++++++++++++++++++++++++ -->

  <script>

      // ******************************************************
      // Terminal One [box 20210503°1511]
      // ******************************************************

      // Prologue [seq 20210503°1521]
      var t1 = new Terminal();                                         // 'X'
      t1.setHeight("400px");                                           // 400px normal, others for debugging
      t1.setBackgroundColor("Blue");
      var elTarget = document.getElementById('Div_For_Terminal_One');  // Position randomly [seq 20210506°1632`01]
      elTarget.appendChild(t1.html);
      t1.print("Welcome to the Aloha Demo terminal ID = '" + t1.getId() + "'.");
      var sInput = '';

      // Action [seq 20210503°1523]
      t1.print ( "Commands: c = clear, h = help, p = pause, q = quit");
      t1.input ( "Please enter me some input ..", function (x11) {
         takeInput(x11);
      });

      // Reaction [func 20210503°1531]
      function takeInput(sWritten) {


 //document.getElementById('eNewLineScrollHeight').innerHTML   = t1.eNewLine.scrollHeight;
 //document.getElementById('eNewLineScrollTop').innerHTML      = t1.eNewLine.scrollTop;
 //document.getElementById('eNewLineOffsetTop').innerHTML      = t1.eNewLine.offsetTop;

 document.getElementById('outputScrollHeight').innerHTML       = t1._output.scrollHeight;
 document.getElementById('outputScrollTop').innerHTML          = t1._output.scrollTop;
 document.getElementById('outputOffsetTop').innerHTML          = t1._output.offsetTop;

 document.getElementById('innerWindowScrollHeight').innerHTML  = t1._innerWindow.scrollHeight;
 document.getElementById('innerWindowScrollTop').innerHTML     = t1._innerWindow.scrollTop;
 document.getElementById('innerWindowOffsetTop').innerHTML     = t1._innerWindow.offsetTop;

 document.getElementById('htmlScrollHeight').innerHTML         = t1.html.scrollHeight;
 document.getElementById('htmlScrollTop').innerHTML            = t1.html.scrollTop;
 document.getElementById('htmlOffsetTop').innerHTML            = t1.html.offsetTop;

 document.getElementById('documentBodyScrollHeight').innerHTML = document.body.scrollHeight;
 document.getElementById('documentBodyScrollTop').innerHTML    = document.body.scrollTop;
 document.getElementById('documentBodyOffsetTop').innerHTML    = document.body.offsetTop;


////window.scrollTo(0, 0); //// Experiment

         if (sWritten.toLowerCase() === 'c' ) {
            t1.clear();
            t1.input ( null, function (x21) { takeInput(x21); });
         }
         else if (sWritten.toLowerCase() === 'h' ) {
            t1.input ( 'Commands: c = clear, h = help, p = pause, q = quit.', function (x21) {
               takeInput(x21);
            });
         }
         else if (sWritten.toLowerCase() === 'p' ) {
            t1.input ( 'Take a breath. Continue with any input.', function () {
               keepgoing();
            });
         }
         else if (sWritten.toLowerCase() === 'q' ) {
            t1.print('Finished. You need to refresh your page to start again.');
         }
         else {
            t1.input ( "Thanks for \"" + sWritten + "\", please input more ..", function (x31) {
               takeInput(x31);
            });
         }
      }

      // // [test 20210509°1551]
      // t1.setInputPrompt('X ');
      // t1.setOutputPrompt('Y ');

      // // [test 20210509°1553]
      // t1.setInputPrompt('→ ');
      // t1.setOutputPrompt('← ');

      // Continue after break [func 20210506°0911]
      function keepgoing() {
         t1.print('Have you had a good rest?');
         t1.input ( "Ahem, more input please ..", function (x51) {
            takeInput(x51);
         });
      }

      // Process checkbox [func 20210508°0941]
      function setDebugBorders() {
         var el = document.querySelector('#Debug_Borders_Box_All');
         var b = el.checked;
         t1.setDebugBorders(b);
         var elKeys = document.getElementById('ColorKeyList');
         elKeys.style.display = el.checked ? 'inline' : 'none';
      }


      // ******************************************************
      // Terminal Two [box 20230510°1611]
      // ******************************************************


      // Prologue [seq 20230510°1621]
      var t2 = new Terminal();
      t2.setHeight("180px");
      t2.setWidth("360px");
      t2.setBackgroundColor("DarkCyan");
      var elTarget = document.getElementById('Div_For_Terminal_Two');

      // Here the page will jump [seq 20210511°1541] -- Temporarily shutdown
      // See issue 20210511°1611 'Lower terminals shall keep feet still'
      /* */
      elTarget.appendChild(t2.html);
      t2.print("Next box on the same page, ID = '" + t2.getId() + "'.");
      t2.confirm('Are you blonde?', function(b) {
         t2.print(b ? "Hello Blondie!" : "Hello Brownie or other type!");
         t2.print("That's it for now.");
         t2.print("This box will only be active again after page refresh.");
         t2.print("Bye.");
      } );
      /* */

      // ******************************************************
      // Terminal Three [box 20230510°1711]
      // ******************************************************
      // Reference: The dice roll algorithm comes from
      //  Romain Guillemot on 2019-Jul-30 on [ref 20230510°1751]
      //  medium.com/@rocambille/how-to-roll-a-dice-in-javascript-ec543f8ffda1

      // Prologue [seq 20230510°1671]
      var t3 = new Terminal("Potato");
      t3.setHeight("180px");
      t3.setWidth("360px");
      t3.setBackgroundColor("DarkSlateBlue");
      var elTarget = document.getElementById('Div_For_Terminal_Three');

      // And here it jumps again [seq 20210511°1543] -- Temporarily shutdown
      // See issue 20210511°1611 'Lower terminals shall keep feet still'
      /* */
      elTarget.appendChild(t3.html);
      t3.print("Third box on page, ID = '" + t3.getId() + "'.");
      t3.confirm('Would you like to roll dice?', function(b1) {
         t3.print(b1 ? "Fine .." : "Well, no dice.");
         if (b1) { roll(); }
         else { t3.print("Bye."); }
      } );
      /* */

      function roll() {
         var i = 1 + Math.floor(Math.random() * 6);
         t3.confirm('You rolled ' + i + ' — More?', function(b2) {
            if (b2) { roll(); }
            else { t3.print("Bye."); }
         });
      }

   </script>

   <div style="clear:both; margin-top:1.1em; padding-left:11.1em; text-indent:-11.1em; line-height:1.1em;">
      <input type="checkbox" id="Debug_Borders_Box_All" name="Debug_Borders_Box_All"
               onclick="setDebugBorders()"
      >
      <label for="Debug_Borders_Box_All">
         Show debug borders.
         <span class="FontSmall" style="display:none;" id="ColorKeyList">
            • Input prompt = Yellow
            • Input line = Red
            • Output/output prompt = Orange
            • Output/output line = GreenYellow
            • Output/input prompt = HotPink
            • Output/input line = Magenta
            • Output box = Gold
            • Content = Magenta
         </span>
      </label>
   </div>

  <p>
               What's missing? • Functional <b>backspace</b>.
               • Functional <b>scrolling</b> with no page jumps.
               • The <code>confirm</code> function should have dedicated prompt,
                 no output prompt.
               • The boxes should leave the focus with <b>Tab</b>, and go to the
                 next control, obeying to the general key mapping.
  </p>

  <p class="Good12Bye">
               Have fun.
  </p>

 </div>

 <p class="Footer13Referer" style="padding-right:2.1em;">
               <span class="Footer13Url">&nbsp;</span>
               <span class="Footer13Copy">&nbsp;</span>
               <span class="Footer13License">&nbsp;</span>
               <span class="Footer13PageId">20210503°1211</span>
 </p>

</body>
</html>
